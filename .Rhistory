df <- data.frame(eval(parse(text=substring(getURL(URLencode('http://129.152.144.84:5001/rest/native/?query="select * from emp"'), httpheader=c(DB='jdbc:oracle:thin:@129.152.144.84:1521:ORCL', USER='C##cs329e_ry2634', PASS='orcl_ry2634', MODE='native_mode', MODEL='model', returnFor = 'R', returnDimensions = 'False'), verbose = TRUE), 1, 2^31-1))))
source('C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject2/01 Data/Load_Packages.R')
df <- data.frame(eval(parse(text=substring(getURL(URLencode('http://129.152.144.84:5001/rest/native/?query="select * from emp"'), httpheader=c(DB='jdbc:oracle:thin:@129.152.144.84:1521:ORCL', USER='C##cs329e_ry2634', PASS='orcl_ry2634', MODE='native_mode', MODEL='model', returnFor = 'R', returnDimensions = 'False'), verbose = TRUE), 1, 2^31-1))))
View(df)
df <- data.frame(eval(parse(text=substring(getURL(URLencode('http://129.152.144.84:5001/rest/native/?query="select * from MBS"'), httpheader=c(DB='jdbc:oracle:thin:@129.152.144.84:1521:ORCL', USER='C##cs329e_ry2634', PASS='orcl_ry2634', MODE='native_mode', MODEL='model', returnFor = 'R', returnDimensions = 'False'), verbose = TRUE), 1, 2^31-1))))
query = '"select * from MBS"'
df <- data.frame(eval(parse(text=substring(getURL(URLencode('http://129.152.144.84:5001/rest/native/?query='+query), httpheader=c(DB='jdbc:oracle:thin:@129.152.144.84:1521:ORCL', USER='C##cs329e_ry2634', PASS='orcl_ry2634', MODE='native_mode', MODEL='model', returnFor = 'R', returnDimensions = 'False'), verbose = TRUE), 1, 2^31-1))))
df <- data.frame(eval(parse(text=substring(getURL(URLencode('http://129.152.144.84:5001/rest/native/?query='| query), httpheader=c(DB='jdbc:oracle:thin:@129.152.144.84:1521:ORCL', USER='C##cs329e_ry2634', PASS='orcl_ry2634', MODE='native_mode', MODEL='model', returnFor = 'R', returnDimensions = 'False'), verbose = TRUE), 1, 2^31-1))))
a = 'a' & 'b'
a = 'a' + 'b'
a = 'a' | 'b'
query = '"select * from MBS"'
df <- data.frame(eval(parse(text=substring(getURL(URLencode(paste('http://129.152.144.84:5001/rest/native/?query=',query ), httpheader=c(DB='jdbc:oracle:thin:@129.152.144.84:1521:ORCL', USER='C##cs329e_ry2634', PASS='orcl_ry2634', MODE='native_mode', MODEL='model', returnFor = 'R', returnDimensions = 'False'), verbose = TRUE), 1, 2^31-1))))
''
df <- data.frame(eval(parse(text=substring(getURL(URLencode(paste('http://129.152.144.84:5001/rest/native/?query=',query,collapse=""), httpheader=c(DB='jdbc:oracle:thin:@129.152.144.84:1521:ORCL', USER='C##cs329e_ry2634', PASS='orcl_ry2634', MODE='native_mode', MODEL='model', returnFor = 'R', returnDimensions = 'False'), verbose = TRUE), 1, 2^31-1))))
query = '"select * from MBS"'
query = 'select * from MBS'
df <- data.frame(eval(parse(text=substring(getURL(URLencode(paste('http://129.152.144.84:5001/rest/native/?query=',query,collapse=""), httpheader=c(DB='jdbc:oracle:thin:@129.152.144.84:1521:ORCL', USER='C##cs329e_ry2634', PASS='orcl_ry2634', MODE='native_mode', MODEL='model', returnFor = 'R', returnDimensions = 'False'), verbose = TRUE), 1, 2^31-1))))
""
?paste
query = 'http://129.152.144.84:5001/rest/native/?query="select * from MBS"'
df <- data.frame(eval(parse(text=substring(getURL(URLencode(query, httpheader=c(DB='jdbc:oracle:thin:@129.152.144.84:1521:ORCL', USER='C##cs329e_ry2634', PASS='orcl_ry2634', MODE='native_mode', MODEL='model', returnFor = 'R', returnDimensions = 'False'), verbose = TRUE), 1, 2^31-1))))
""
df <- data.frame(eval(parse(text=substring(getURL(URLencode('http://129.152.144.84:5001/rest/native/?query="select * from MBS"', httpheader=c(DB='jdbc:oracle:thin:@129.152.144.84:1521:ORCL', USER='C##cs329e_ry2634', PASS='orcl_ry2634', MODE='native_mode', MODEL='model', returnFor = 'R', returnDimensions = 'False'), verbose = TRUE), 1, 2^31-1))))
df <- data.frame(eval(parse(text=substring(getURL(URLencode('http://129.152.144.84:5001/rest/native/?query="select * from MBS"'), httpheader=c(DB='jdbc:oracle:thin:@129.152.144.84:1521:ORCL', USER='C##cs329e_ry2634', PASS='orcl_ry2634', MODE='native_mode', MODEL='model', returnFor = 'R', returnDimensions = 'False'), verbose = TRUE), 1, 2^31-1))))
source('C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject2/01 Data/Load_Packages.R')
source('C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject2/02 Data Wrangling/LoadData.R')
View(df)
source('C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject2/01 Data/Load_Packages.R')
df <- data.frame(eval(parse(text=substring(getURL(URLencode('http://129.152.144.84:5001/rest/native/?query="select * from MBS"'), httpheader=c(DB='jdbc:oracle:thin:@129.152.144.84:1521:ORCL', USER='C##cs329e_ry2634', PASS='orcl_ry2634', MODE='native_mode', MODEL='model', returnFor = 'R', returnDimensions = 'False'), verbose = TRUE), 1, 2^31-1))))
df <- data.frame(eval(parse(text=substring(getURL(URLencode('http://129.152.144.84:5001/rest/native/?query="select * from MBS"'), httpheader=c(DB='jdbc:oracle:thin:@129.152.144.84:1521:ORCL', USER='C##cs329e_ry2634', PASS='orcl_ry2634', MODE='native_mode', MODEL='model', returnFor = 'R', returnDimensions = 'False'), verbose = TRUE), 1, 2^31-1))))
View(df)
source('C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject2/01 Data/Load_Packages.R')
source('C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject2/01 Data/Load_Data.R')
View(df)
tbl_df(diamonds)
require(tidyr)
require(dplyr)
tbl_df(diamonds)
View(diamonds)
source('C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject2/01 Data/Load_Packages.R')
tbl_df(diamonds)
install.packages("tidyr")
install.packages("dplyr")
require(tidyr)
require(dplyr)
tbl_df(diamonds)
tbl_df(diamonds)
source('C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject2/01 Data/Load_Packages.R')
tbl_df(diamonds)
for (i in c("cut","color","clarity"){group_by(diamonds,i)})
for (i in c("cut","color","clarity")){group_by(diamonds,i)})
for (i in c("cut","color","clarity")){group_by(diamonds,i)}
for (i in c("cut","color","clarity")){force(i+"") %>% group_by(diamonds,.)}
for (i in c("cut","color","clarity")){force(i) %>% group_by(diamonds,.)}
source('C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject2/01 Data/Load_Packages.R')
for (i in c("cut","color","clarity")){paste (c("diamonds",i), collapse = "") %>% group_by()}
paste (c("diamonds","cut"), collapse = ""
)
for (i in c("cut","color","clarity")){paste (c("diamonds",i), collapse = ",") %>% group_by()}
for (i in c("cut","color","clarity")){paste (c("diamonds",i), collapse = ",")}
for (i in c("cut","color","clarity")){print(paste (c("diamonds",i), collapse = ","))}
for (i in c("cut","color","clarity")){paste (c("diamonds",i), collapse = ",")%>% group_by(,)}
for (i in c("cut","color","clarity")){as.character(paste (c("diamonds",i), collapse = ","))%>% group_by(,)}
for (i in c("cut","color","clarity")){as.character(paste (c("diamonds",i), collapse = ","))%>% group_by()}
for (i in c("cut","color","clarity")){print(paste (c("diamonds",i), collapse = ","))}
for (i in c("cut","color","clarity")){as.character(paste (c("diamonds",i), collapse = ","))%>% group_by()}
View(df)
source("../01 Data/Load_Packages.R", echo = TRUE)
```{r}
source('C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject3/01 Data/Load_Data.R', echo=TRUE)
source('C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject3/01 Data/Load_Packages.R', echo=TRUE)
source('C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject3/01 Data/Load_Data.R', echo=TRUE)
install.packages("devtools")
devtools::install_github("rstudio/EDAWR")
require(EDAWR)
source('C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject3/01 Data/Load_Data.R', echo=TRUE)
save.image("C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject3/.RData")
tbl_df(MBSDF)
```
###Mortgage Backed Security #2 Data
```{r}
tbl_df(MBS2DF)
```
###Mortgage Backed Security Combined Data
```{r}
MBSALLDF <- bind_rows(MBSDF, MBS2DF)
tbl_df(MBSALLDF)
```
###Unemployment Data by State in 2007
```{r}
tbl_df(UNEMPLOYMENTDF)
```
##**Step 3:** Display 3 Interesting Data Wrangling Sets / Visualizations
###Chart 1
This chart compares the state unemployment rate with average mortgage interest rate from the combined data set of 2 mortgage backed securities
```{r}
source("../02 Data Wrangling/DataWrangling1 - chart.R", echo = TRUE)
names(UNEMPLOYMENTDF) = c("STATE","UNEMPLOYMENT_RATE"); options(warn=-1)
DATA1 <- MBSALLDF %>% group_by(STATE) %>% summarise(AVG_FICO = mean(FICO)) %>% inner_join(UNEMPLOYMENTDF,by="STATE");tbl_df(DATA1)
CORR <- cor(DATA1[,2:3])
print(paste("Correlation of average state unemployment rate and credit score from our MBS sample is ",round(CORR[1,2],digits = 3)))
VIS1 <- DATA1 %>% ggplot(aes(x= UNEMPLOYMENT_RATE, y = AVG_FICO))+geom_point(aes(color=STATE));VIS1
save.image("C:/Users/Ross/Google Drive/docs/UT/Spring 2015/DataVisualization/DV_RProject3/.RData")
DATA2 <- MBSALLDF %>% group_by(STATE,OCCUPANCY) %>% summarise(OCCUPANCY_COUNT = n()) %>%
spread(OCCUPANCY,OCCUPANCY_COUNT) %>% full_join(UNEMPLOYMENTDF,by="STATE") %>%
mutate(ABOVE_AVG_UNEMPLOYMENT = UNEMPLOYMENT_RATE > 4.45) %>% select(ABOVE_AVG_UNEMPLOYMENT,IO,OO,SH);DATA2[is.na(DATA2)] <- 0
DATA2 <- DATA2 %>% group_by(ABOVE_AVG_UNEMPLOYMENT) %>% summarise(IO = mean(IO)*n(),OO = mean(OO)*n(),SH = mean(SH)*n());DATA2[1,1] <- 'State Unemployment <= 4.45%';DATA2[2,1] <- 'State Unemployment > 4.45%';DATA2
DATA2 <- DATA2 %>% group_by(ABOVE_AVG_UNEMPLOYMENT) %>% summarise(IO = mean(IO)*n(),OO = mean(OO)*n(),SH = mean(SH)*n());DATA2[1,1] <- 'State Unemployment <= 4.45%';DATA2[2,1] <- 'State Unemployment > 4.45%';DATA2
STORMS
storms
cass
cases
TDATA2 <- DATA2 %>% gather(ABOVE_AVG_UNEMPLOYMENT,value,2,3,4)
TDATA2
DATA2
VIS2 <- TDATA2 %>% ggplot(aes(x = ABOVE_AVG_UNEMPLOYMENT,y = value, fill = ABOVE_AVG_UNEMPLOYMENT.1)+geom_bar(stat= 'identity'))
TDATA2 %>% ggplot(aes(x = ABOVE_AVG_UNEMPLOYMENT,y = value, fill = ABOVE_AVG_UNEMPLOYMENT.1)+geom_bar(stat= 'identity'))
TDATA2 %>% ggplot(aes(x = ABOVE_AVG_UNEMPLOYMENT, fill = ABOVE_AVG_UNEMPLOYMENT.1)+geom_bar(stat= 'identity'))
TDATA2 %>% ggplot(aes(x = ABOVE_AVG_UNEMPLOYMENT, fill = ABOVE_AVG_UNEMPLOYMENT.1)+geom_bar()
TDATA2 %>% ggplot(aes(x = ABOVE_AVG_UNEMPLOYMENT, fill = ABOVE_AVG_UNEMPLOYMENT.1))+geom_bar()
TDATA2 %>% ggplot(aes(x = ABOVE_AVG_UNEMPLOYMENT, fill = ABOVE_AVG_UNEMPLOYMENT.1))+geom_bar()
TDATA2
TDATA2 %>% ggplot(aes(x = ABOVE_AVG_UNEMPLOYMENT, y='OCCUPANCY',fill = OCCUPANCY))+geom_bar()
names(TDATA2) <- c('ABOVE_AVG_UNEMPLOYMENT','OCCUPANCY','VALUE')
TDATA2 %>% ggplot(aes(x = ABOVE_AVG_UNEMPLOYMENT, y='OCCUPANCY',fill = OCCUPANCY))+geom_bar()
TDATA2 %>% ggplot(aes(x = ABOVE_AVG_UNEMPLOYMENT, y=VALUE,fill = OCCUPANCY))+geom_bar()
TDATA2 %>% ggplot(aes(x = ABOVE_AVG_UNEMPLOYMENT, y=VALUE,fill = OCCUPANCY))+geom_bar(stat='identity')
TDATA2
names(TDATA2) <- c('ABOVE_AVG_UNEMPLOYMENT','OCCUPANCY','COUNT')
TDATA2 %>% ggplot(aes(x = ABOVE_AVG_UNEMPLOYMENT, y=COUNT,fill = OCCUPANCY))+geom_bar(stat='identity')
TDATA2 %>% ggplot(aes(x = ABOVE_AVG_UNEMPLOYMENT, y=COUNT,fill = OCCUPANCY))+geom_bar(stat='identity',position='dodge')
TDATA2 %>% ggplot(aes(x = ABOVE_AVG_UNEMPLOYMENT, y=COUNT,fill = 'ABOVE_AVG_UNEMPLOYMENT'))+geom_bar(stat='identity',position='dodge')
TDATA2 %>% ggplot(aes(x = OCCUPANCY, y=COUNT,fill = 'ABOVE_AVG_UNEMPLOYMENT'))+geom_bar(stat='identity',position='dodge')
names(TDATA2) <- c('ABOVE_AVG_UNEMPLOYMENT','OCCUPANCY','COUNT')
TDATA2 %>% ggplot(aes(x = OCCUPANCY, y=COUNT,fill = ABOVE_AVG_UNEMPLOYMENT))+geom_bar(stat='identity',position='dodge')
